"""
–¢–µ—Å—Ç –¥–ª—è –±–æ—Ç–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ –¥—É–∞
"""

import sys
import os

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É
sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

def test_dua_bot():
    """–ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–∞ –∏ –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏"""
    try:
        # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à –º–æ–¥—É–ª—å
        from dua_reminder.dua_bot import (
            DUA_DATABASE,
            get_random_dua,
            DUA_TIMES
        )
        
        print("‚úÖ –ú–æ–¥—É–ª—å dua_bot —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω")
        
        # –¢–µ—Å—Ç 1: –ë–∞–∑–∞ –¥—É–∞ –Ω–µ –ø—É—Å—Ç–∞—è
        assert len(DUA_DATABASE) > 0, "–ë–∞–∑–∞ –¥—É–∞ –ø—É—Å—Ç–∞—è!"
        print(f"‚úÖ –í –±–∞–∑–µ {len(DUA_DATABASE)} –¥—É–∞")
        
        # –¢–µ—Å—Ç 2: –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –¥—É–∞
        dua = get_random_dua()
        assert isinstance(dua, str), "–î—É–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–æ–π"
        print(f"‚úÖ –ü–æ–ª—É—á–µ–Ω–æ –¥—É–∞: {dua[:50]}...")
        
        # –¢–µ—Å—Ç 3: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
        assert len(DUA_TIMES) == 3, "–î–æ–ª–∂–Ω–æ –±—ã—Ç—å 3 –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π"
        print("‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ 3 –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π")
        
        for t in DUA_TIMES:
            print(f"   {t['emoji']} {t['name']}: {t['time']}")
        
        return True
        
    except ImportError as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: {e}")
        return False
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
        return False

if __name__ == "__main__":
    print("üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ –¥–ª—è dua_bot...")
    if test_dua_bot():
        print("\nüéâ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã!")
    else:
        print("\n‚ùå –¢–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ–π–¥–µ–Ω—ã")